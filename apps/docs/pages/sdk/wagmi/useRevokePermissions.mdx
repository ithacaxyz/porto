import { TryItOut } from '../../../components/TryItOut'

# `useRevokePermissions`

React hook for revoking permissions.

Uses [`experimental_revokePermissions`](/sdk/rpc/experimental_revokePermissions) under the hood.

<TryItOut
  exampleSlug="#example"
  fn={async ({ provider }) => {
    // For demo purposes only, first get permissions to show one being revoked
    const permissions = await provider.request({
      method: 'experimental_getPermissions'
    })

    if (!permissions || permissions.length === 0) {
      return { message: "No permissions to revoke" }
    }

    // Revoke the first permission
    await provider.request({
      method: 'experimental_revokePermissions',
      params: [{ id: permissions[0].id }]
    })

    return { message: `Successfully revoked permission ${permissions[0].id}` }
  }}
  transformResultCode={(code) => {
    return 'const response = ' + code
  }}
/>

## Example

```tsx twoslash
import { Hooks } from 'porto/wagmi'

export function App() {
  const permissions = Hooks.usePermissions()
  const revokePermissions = Hooks.useRevokePermissions()

  return permissions.data.map(permission => (
    <button
      onClick={() => revokePermissions.mutate({
        id: permission.id
      })}
    >
      Revoke Permission
    </button>
  ))
}

<TryItOut
  fn={async ({ provider }) => {
    // For demo purposes only, first get permissions to show one being revoked
    const permissions = await provider.request({
      method: 'experimental_getPermissions'
    })

    if (!permissions || permissions.length === 0) {
      return { message: "No permissions to revoke" }
    }

    // Revoke the first permission
    await provider.request({
      method: 'experimental_revokePermissions',
      params: [{ id: permissions[0].id }]
    })

    return { message: `Successfully revoked permission ${permissions[0].id}` }
  }}
  transformResultCode={(code) => {
    return 'const response = ' + code
  }}
/>

### Revoke for Specific Account

You can revoke permissions for a specific account by including the address:

```tsx twoslash
import { Porto } from 'porto'
import * as React from 'react'
import { Hooks } from 'porto/wagmi'

const porto = Porto.create()

export function App() {
  const revokePermissions = Hooks.useRevokePermissions()
  const specificAddress = '0x123...' // [!code focus]
  const permissionId = '0x456...' // [!code focus]

  return (
    <button
      onClick={() => revokePermissions.mutate({
        address: specificAddress, // [!code focus]
        id: permissionId
      })}
    >
      Revoke Permission for Specific Account
    </button>
  )
}
```