# `permissions`

VanillaJS action for retrieving active permissions for an account. Uses [`experimental_getPermissions`](/sdk/rpc/experimental_getPermissions) under the hood.

## Usage

```ts twoslash
import { Actions } from 'porto/wagmi'
import { porto } from 'porto/wagmi'
import { createConfig, http } from 'wagmi'
import { baseSepolia } from 'wagmi/chains'

export const config = createConfig({
  chains: [baseSepolia],
  connectors: [porto()],
  transports: {
    [baseSepolia.id]: http(),
  },
})


const allPermissions = await Actions.getPermissions(config, {})

console.log(allPermissions)
```

## Parameters

```ts
type Parameters = {
  /** Chain ID to get permissions for */
  chainId?: number

  /** The connector to use */
  connector?: Connector

  /** Address of the account to get permissions for.
   * Defaults to the current account.
   */
  address?: `0x${string}`
}
```

## Return Value

```ts
type ReturnType = Array<{
  /** Address of the account */
  address: `0x${string}`

  /** Chain ID */
  chainId: `0x${string}`

  /** Expiry timestamp */
  expiry: number

  /** Permission ID */
  id: `0x${string}`

  /** Key information */
  key: {
    /** Public key */
    publicKey: `0x${string}`
    /** Key type */
    type: 'address' | 'p256' | 'secp256k1' | 'webauthn-p256'
  }

  /** Granted permissions */
  permissions: {
    /** Call permissions */
    calls: {
      signature?: string
      to?: `0x${string}`
    }[]

    /** Spend permissions */
    spend: {
      limit: bigint
      period: 'minute' | 'hour' | 'day' | 'week' | 'month' | 'year'
      token?: `0x${string}`
    }[]
  }
}>
```

## Example with Specific Account

You can retrieve permissions for a specific account by providing the `address` parameter:

```ts twoslash
import { Actions } from 'porto/wagmi'
import { porto } from 'porto/wagmi'
import { createConfig, http } from 'wagmi'
import { baseSepolia } from 'wagmi/chains'

export const config = createConfig({
  chains: [baseSepolia],
  connectors: [porto()],
  transports: {
    [baseSepolia.id]: http(),
  },
})

const specificAddress = '0x123...' // [!code focus]

const accountPermissions = await Actions.getPermissions(config, {
  address: specificAddress // [!code focus]
})

console.info(accountPermissions)
```